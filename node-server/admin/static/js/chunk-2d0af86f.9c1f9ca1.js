(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af86f"],{"0f69":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticStyle:{margin:"15px",float:"right"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.dialogVisible=!0}}},[e._v("添加新账号")])],1),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,border:""}},[t("el-table-column",{attrs:{fixed:"",prop:"accountId",label:"用户名","min-width":"150"}}),e._v(" "),t("el-table-column",{attrs:{fixed:"",prop:"role",label:"角色分组","min-width":"150"}})],1),e._v(" "),t("el-dialog",{attrs:{title:"添加新帐号",visible:e.dialogVisible},on:{"update:visible":function(r){e.dialogVisible=r}}},[t("el-form",{ref:"addUserForm",attrs:{rules:e.rules,model:e.userForm,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"账号",prop:"accountId"}},[t("el-input",{model:{value:e.userForm.accountId,callback:function(r){e.$set(e.userForm,"accountId",r)},expression:"userForm.accountId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"角色",prop:"role"}},[t("el-select",{model:{value:e.userForm.role,callback:function(r){e.$set(e.userForm,"role",r)},expression:"userForm.role"}},e._l(e.roles,function(e){return t("el-option",{key:e.key,attrs:{value:e.name,index:e.key,label:e.name}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"输入密码",prop:"password"}},[t("el-input",{attrs:{type:"password"},model:{value:e.userForm.password,callback:function(r){e.$set(e.userForm,"password",r)},expression:"userForm.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"rePassword"}},[t("el-input",{attrs:{type:"password"},model:{value:e.userForm.rePassword,callback:function(r){e.$set(e.userForm,"rePassword",r)},expression:"userForm.rePassword"}})],1),e._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("el-button",{attrs:{type:"warning"},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)],1)],1)},a=[],o=(t("96cf"),t("3b8d")),l=t("cc5e"),i=t("c24f"),n={name:"user",data:function(){return{dialogVisible:!1,roles:[],userForm:{accountId:"",password:"",rePassword:"",role:""},userList:[],rules:{accountId:[{required:!0,message:"不能为空",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}],role:[{required:!0,message:"不能为空",trigger:"blur"}],password:[{required:!0,message:"不能为空",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}],rePassword:[{required:!0,message:"不能为空",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}]}}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var r,t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["d"])();case 2:r=e.sent,this.roles=r.data,Object(i["d"])().then(function(e){t.userList=e.data});case 5:case"end":return e.stop()}},e,this)}));function r(){return e.apply(this,arguments)}return r}(),methods:{handleSubmit:function(){var e=this;this.$refs.addUserForm.validate().then(function(r){e.userForm.password===e.userForm.rePassword?Object(i["a"])(e.userForm).then(function(r){0===r.code?(e.$message({message:"添加成功",type:"success"}),e.userList.push({accountId:e.userForm.accountId,role:e.userForm.role})):e.$message({message:r.message,type:"error"})}):e.$message({message:"密码输入不一致！",type:"error"})}).catch(function(r){e.$message({message:"填写有误！",type:"error"})})}}},u=n,c=t("2877"),d=Object(c["a"])(u,s,a,!1,null,"92cc37de",null);r["default"]=d.exports}}]);